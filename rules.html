<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="rules.css" type="text/css" />
</head>
<body>
<h1 id="правила-выполнения-работы">Правила выполнения работы</h1>
<p>На выполнение работы даётся 4 часа, начало 12.06.2015 в 17:00, конец в 21:00.</p>
<p>Выполненная работа должна быть отправлена во вложении письмом на мой адрес электронной почты не позднее указанного срока.</p>
<p>При опоздании с отправлением работы за каждую минуту опоздания (полную или неполную) снимается один балл (например, если работа отправлена с опозданием на 00:02:17, то снимается три балла).</p>
<p>Вариант работы выбирается в соответствии со списком студентов группы (номер варианта соответствует номеру в списке):</p>
<ol style="list-style-type: decimal">
<li>Александров Максим Анатольевич.</li>
<li>Вяткин Роман Владимирович.</li>
<li>Габдрахманов Ринат Зинурович.</li>
<li>Горячих Константин Александрович.</li>
<li>Гребенщикова Дарья Григорьевна.</li>
<li>Григорьева Алина Александровна.</li>
<li>Григорьева Дарья Васильевна.</li>
<li>Ившина Ольга Николаевна.</li>
<li>Карманов Дмитрий Сергеевич.</li>
<li>Кубина Дарья Владимировна.</li>
<li>Перевозчикова Анастасия Сергеевна.</li>
<li>Самарин Павел Федорович.</li>
<li>Сарапук Полина Алексеевна.</li>
<li>Сорокин Дмитрий Александрович.</li>
<li>Тарасов Александр Алексеевич.</li>
<li>Шемякин Анатолий Игоревич.</li>
<li>Шигапова Юлия Линаровна.</li>
<li>Шмакова Наталья Владимировна.</li>
<li>Ясакова Алёна Александровна.</li>
</ol>
<p>Работа, сделанная не для своего варианта, не засчитывается (выставляется ноль баллов).</p>
<p>Представленная работа должна состоять из одного или нескольких (на выбор сдающего) SQL-файлов (поместить все инструкции в один файл или несколько отдельных).</p>
<p>База данных должна быть названа в соответствии со следующим правилом: <code>db##</code>, где <code>##</code> — номер варианта, т.е., имена должны быть такими:</p>
<pre><code>db01
db02
....
db19</code></pre>
<p>SQL-файлы должны именоваться по правилу: <code>db##-##.sql</code>, где <code>db##</code> — имя базы данных (см. указания выше), вторая пара <code>##</code> — порядковый номер SQL-файла (например, <code>db07-02.sql</code> означает, что это второй SQL-файл для БД <code>db07</code> (т.е., седьмого варианта работы). Порядок нумерации должен соответствовать порядку выполнения SQL-файлов, и проверяться они будут именно в указанном порядке (что может привести к ошибке, если порядок следования перепутан). Поэтому при перепутывании нумерации могут возникнуть ошибки, влияющие на последующий результат, что приведёт к незасчитыванию всех тех частей работы, которые приводят к ошибке выполнения (перепутывание местами двух файлов может привести к ошибочному исполнению <strong>всех</strong> последующих). Поэтому рекомендуется использовать для всех SQL-инструкций единственный SQL-файл, чтобы избежать возможных ошибок по данной причине. Предположим, например, что были созданы следующие SQL-файлы:</p>
<p><code>db07-01.sql</code>:</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">CREATE</span> <span class="kw">DATABASE</span> db07;</code></pre></div>
<p><code>db07-02.sql</code>:</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">USE</span> db07;</code></pre></div>
<p><code>db07-03.sql</code>:</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">CREATE</span> <span class="kw">TABLE</span> hob
(
  <span class="kw">id</span> <span class="dt">INT</span> UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span> AUTO_INCREMENT,
  name <span class="dt">VARCHAR</span>(<span class="dv">30</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
  <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>)
);</code></pre></div>
<p><code>db07-04.sql</code>:</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">INSERT</span> <span class="kw">INTO</span> hob <span class="kw">VALUES</span>
  (<span class="kw">NULL</span>, <span class="st">&#39;Bilbo Baggins&#39;</span>),
  (<span class="kw">NULL</span>, <span class="st">&#39;Frodo Baggins&#39;</span>),
  (<span class="kw">NULL</span>, <span class="st">&#39;Samwise Gamgee&#39;</span>),
  (<span class="kw">NULL</span>, <span class="st">&#39;Peregrin Took&#39;</span>);</code></pre></div>
<p><code>db07-05.sql</code>:</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span>
  <span class="kw">id</span> <span class="kw">AS</span> `#`,
  name <span class="kw">AS</span> `Name`
  <span class="kw">FROM</span> hob;</code></pre></div>
<p>Если перепутать содержимое первых двух, то почти все запросы из этих файлов не будут выполнены (если БД <code>db07</code> не была создана ранее, то будет лишь создана она, все остальные запросы выдадут ошибку выполнения). Таким образом, рекомендуемы способ действий: создать единственный SQL-файл, который может иметь примерно следующий вид:</p>
<p><code>db07-01.sql</code>:</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="co">--</span>
<span class="co">-- удаляем БД db07, если она существует,</span>
<span class="co">-- для проверки того, что все инструкции</span>
<span class="co">-- расположены в нужном порядке</span>
<span class="co">-- и корректно выполняются</span>
<span class="co">--</span>
<span class="kw">DROP</span> <span class="kw">DATABASE</span> <span class="kw">IF</span> <span class="kw">EXISTS</span> db07;
<span class="co">--</span>
<span class="co">-- создаём БД</span>
<span class="co">--</span>
<span class="kw">CREATE</span> <span class="kw">DATABASE</span> db07;
<span class="co">--</span>
<span class="co">-- делаем её активной</span>
<span class="co">--</span>
<span class="kw">USE</span> db07;
<span class="co">--</span>
<span class="co">-- создаём таблицу для хранения данных о хоббитах</span>
<span class="co">-- id   - суррогатный первичный ключ</span>
<span class="co">-- name - имя хоббита</span>
<span class="co">--</span>
<span class="kw">CREATE</span> <span class="kw">TABLE</span> hob
(
  <span class="kw">id</span> <span class="dt">INT</span> UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span> AUTO_INCREMENT,
  name <span class="dt">VARCHAR</span>(<span class="dv">30</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
  <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>)
);
<span class="co">--</span>
<span class="co">-- делаем вставку строк в таблицу хоббитов</span>
<span class="co">--</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> hob <span class="kw">VALUES</span>
  (<span class="kw">NULL</span>, <span class="st">&#39;Bilbo Baggins&#39;</span>),
  (<span class="kw">NULL</span>, <span class="st">&#39;Frodo Baggins&#39;</span>),
  (<span class="kw">NULL</span>, <span class="st">&#39;Samwise Gamgee&#39;</span>),
  (<span class="kw">NULL</span>, <span class="st">&#39;Peregrin Took&#39;</span>);
<span class="co">--</span>
<span class="co">-- выбираем всех хоббитов из таблицы</span>
<span class="co">--</span>
<span class="kw">SELECT</span>
  <span class="kw">id</span> <span class="kw">AS</span> `#`,
  name <span class="kw">AS</span> `Name`
  <span class="kw">FROM</span> hob;
<span class="co">--</span>
<span class="co">-- и так далее...</span>
<span class="co">--</span></code></pre></div>
<p>Кроме того, после завершения выполнения работы рекомендуется сделать проверку своего SQL-файла (или файлов, если их будет несколько) следующим образом: в <code>MySQL monitor</code> выполнить (например, для того же седьмого варианта работы):</p>
<pre><code>mysql&gt; \. db07-01.sql
mysql&gt; \. db07-02.sql
...</code></pre>
<p>(все, сколько будет сделано, в порядке нумерации). Именно с целью проверки сделанных файлов рекомендуется использовать инструкцию</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">DROP</span> <span class="kw">DATABASE</span> <span class="kw">IF</span> <span class="kw">EXISTS</span> db07;</code></pre></div>
<p>в самом начале, перед всеми остальными действиями.</p>
<p>Работу можно выполнять и в <code>MySQL monitor</code>:</p>
<pre><code>mysql&gt; DROP DATABASE IF EXISTS db07;
Query OK, 0 rows affected, 1 warning (0.00 sec)

mysql&gt; CREATE DATABASE db07;
Query OK, 1 row affected (0.00 sec)

mysql&gt; USE db07;
Database changed

mysql&gt; CREATE TABLE hob
    -&gt; (
    -&gt; id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    -&gt; name VARCHAR(30) NOT NULL,
    -&gt; PRIMARY KEY (id)
    -&gt; );
Query OK, 0 rows affected (0.01 sec)

mysql&gt; INSERT INTO hob VALUES
    -&gt; (NULL, &#39;Bilbo Baggins&#39;),
    -&gt; (NULL, &#39;Frodo Baggins&#39;),
    -&gt; (NULL, &#39;Samwise Gamgee&#39;),
    -&gt; (NULL, &#39;Peregrin Took&#39;);
Query OK, 4 rows affected (0.00 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql&gt; SELECT
    -&gt; id AS `#`,
    -&gt; name AS `Name`
    -&gt; FROM hob;
+---+------------------+
| # | Name             |
+---+------------------+
| 1 | Bilbo Baggins    |
| 2 | Frodo Baggins    |
| 3 | Samwise Gamgee   |
| 4 | Peregrin Took    |
+---+------------------+
4 rows in set (0.00 sec)</code></pre>
<p>И т.д., после чего выделить и скопировать в буфер обмена из окна терминала все запросы, вставить содержимое буфера в текстовый редактор, убрать лишнее (результаты выполнения запросов и приглашения программы <code>MySQL monitor</code>, в частности), отформатировать код запросов и сохранить в SQL-файл.</p>
<p>Работы должны быть выполнены с использованием рабочей среды, настроенной по данной <a href="https://github.com/AVKorotkov/setupenv">инструкции</a>.</p>
<p>Создавать SQL-файлы можно в любом из представленных в рабочей среде редакторов: <code>gedit</code>, <code>KWrite</code>, <code>nano</code> или любом другом из представленных там, а также в <code>MySQL Workbench</code>. При использовании последнего происходит проверка правильности синтаксиса на ошибки, запросы на выполнение можно передавать прямо из этой программы, результат выполнения передаётся туда же. Для её использования в качестве редактора запросов, следует:</p>
<ol style="list-style-type: decimal">
<li>Предварительно в <code>MySQL monitor</code> создать БД (пример ниже для того же седьмого варианта):</li>
</ol>
<pre><code>mysql&gt; CREATE DATABASE db07;
Query OK, 1 row affected (0.00 sec)</code></pre>
<p>(после чего можно покинуть <code>MySQL monitor</code>).</p>
<ol start="2" style="list-style-type: decimal">
<li><p>После запуска <code>MySQL Workbench</code> произвести двойной щелчок на созданном ранее соединении <code>localhost</code>: оно расположено на стартовом окне программы в области <code>Open Connection to Start Querying</code>. При этом сервер <code>MySQL</code> может запросить пароль пользователя <code>MySQL</code>, его следует ввести (пароль пользователя <code>dbuser</code>).</p></li>
<li><p>Далее открывается окно редактора запросов, где их можно вводить и запускать на выполнение (все, выделенные или под курсором — выбирается в меню или на панели инструментов). Предварительно, до составления запросов, следует выбрать БД (в левой панели окна редактора), сделав на ней двойной щелчок.</p></li>
<li><p>Всё содержимое окна запросов можно сохранить в файл (например, <code>db07-01.sql</code>).</p></li>
</ol>
<p>В письме должны быть указаны имя, фамилия, отчество студента, приславшего работу. К письму должны быть добавлены во вложении все сделанные SQL-файлы. Кроме того, можно приложить текстовый (в формате <code>Plain Text</code>) файл с пояснениями к сделанной работе, если пояснения могут быть сочтены полезными (рекомендуется все пояснения делать в виде комментариев внутри SQL-файла как на примере выше). При вложении такого файла, он доложен иметь название <code>db##.txt</code>, где <code>##</code> — номер варианта. Никакие иные вложения (в других форматах, неверно названные и т.д.) к рассмотрению не принимаются, они будут просто удаляться. Длины строк <strong>во всех файлах</strong> не должны превышать 80 символов (рекомендуется использовать 72).</p>
<p>Крайне рекомендуется заранее проверить, как всё работает — до начала проведения контрольной.</p>
</body>
</html>
